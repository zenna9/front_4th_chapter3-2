# 심화과제 팀 회의내용

### 참여자

- 김도은, 김현진, 정석호, 정채은, 차현빈

### 각자의 생각

- 현빈 :
  - Unit 테스트는 꼭 필요해 보인다.
  - 현재 프로젝트는 범위가 크지 않기 때문에(테스트를 작성하는데 많은 비용이 들지 않을 것같아서) E2E 테스트를 진행해 보는 것도 좋아보인다.
  - Unit → 통합 → E2E 순으로 진행하지만 현제 프로젝트는 리팩토링이 필요해 보이기 때문에 리팩토링을 한다는 가정하에 Unit → E2E → 통합 순으로 비중있게 짜는 것이 어떠한가
  - 사실 잘 모르겠다
- 채은 :
  - 유닛 : 유틸함수에 대한 엣지케이스 위주의 테스트 진행 필요. 결과가 무결하다는 확신을 가지고 있어야 하는 부분이라고 생각.
  - 통합 : 중요! 요구사항에 대한 구현 완성도를 확인할 수 있는 지표.
  - E2E : 데이터 검증이 아닌 단순 동작 테스트 정도라면 최소화 하기. 데이터 검증에서 통테 비중을 늘리고 E2E는 줄이는 방향이 나을 것 같다. 과해지면 비용낭비.
- 석호 :
  > 상황에 따라 전략이 다를 것으로 생각되어 2가지 상황을 가정한다.
  1. 레거시 및 코드스멜 가득한 유지보수하기 어려운 운영 프로젝트

     1. 결합도와 응집도가 적절하게 분리되어 있지 않은 프로젝트에서는 유닛테스트를 돌리는 것 자체가 불가능하다.
     2. 통합테스트의 경우도 돔 조작을 직접하거나 코드베이스 자체가 레거시(PHP 등등)인 경우는 testing-library 의 힘을 빌릴 수 없으므로, 테스트 작성이 어려울 수 있다.

     → 이런 경우, 불가항력으로 E2E 테스트를 통해 일단 동작이 보장되는지를 알 수 있는 최소한의 테스트를 구성하고, 이 테스트가 깨지지 않음을 유지한채 점진적으로 리팩토링하는 전략을 세울 수 있다.

  2. 이제 막 시작하는 개발 프로젝트

     1. 상대적으로 코드베이스 크기가 작을 것 이므로 어느정도 코드가 작성되었다 하더라도 결합도와 응집도를 조금씩 개선하면서 유닛테스트 코드를 작성할 수 있다.
     2. 기술스택에 제한이 없는 초기 단계이므로 testing-library 로 테스트 작성하기 쉬운 React 를 쓸 수 있고, 이를 통해 통합테스트(렌더링 및 유저 인터렉션)를 진행하는데 어려움이 없다.
     3. E2E 도 당연히 할 수 있지만, 일단 각각의 작은 피쳐들에 대해 테스트를 붙일 수 있는 상황이라면 굳이 테스트를 실행하는 데 부하가 큰 E2E는 조금 부담이 있을 수 있다.

     **→ 따라서, 유닛테스트 및 통합테스트를 붙일 수 있는 곳이라면 E2E 테스트보다는 유닛테스트와 통합테스트의 우선순위를 높이는게 합리적으로 올바른 선택이다.**
  > 결론 : 이 과제는 우리가 코드베이스를 관리할 수 있으며, React 로 작성된 코드베이스의 프로젝트이므로 ‘유닛테스트’와 ‘통합테스트’만으로도 충분하다.
- 도은:
  - util성 계산함수를 작성하는 경우 유닛 테스트코드를 함께 작성한다
  - 특정 페이지가 아닌 여러 페이지에서 공용으로 사용되는 custom hook 추가 시 유닛테스트를 함게 작성한다
  - 특정 페이지에 대한 리팩토링이 필요한 경우 통합테스트를 먼저 작성하고, 이를 바탕으로 리팩토링한다
  - 오류가 발생하면 큰일나는(결제 등) 페이지에 대해 happy case에 대한 E2E 테스트를 작성하고, 배포 시마다 실행한다
- 현진 :
  - 훅이나 ,유틸함수 같은경우 코드가 예상대로 작동하는지 빠르게 검증할수있기때문에서 사용하는게 좋을것같다. (특정 문제가 생겼을때 빠르게 원인파악이 가능하기때문)
  - 주요 기능이 정상적으로 작동하는지 확인하기 위해 통합테스트가 필요해 보인다. api 호출부를 구현하고있기때문에 통합테스트가 필요해보임.
  - 사용자 행동에따른?? 중요한? 기능이 없어보여서 e2e 까지 진행하지않아도 괜찮을것 같음.
    ⇒ [테스트 피라미드](https://www.notion.so/1942dc3ef51481c182cfec3f909baa7a?pvs=21) 가 적합하지않을까…..

# 결론

1. **레거시 프로젝트 🍝**
   - 코드가 분리되지 않아 유닛/통합 테스트 작성이 어려움.
   - E2E 테스트로 최소한의 동작을 보장하며 점진적 리팩토링 진행.
2. **신규 프로젝트 🆕**
   - 코드가 작고 개선이 가능하므로 유닛/통합 테스트 작성 가능.
   - React + testing-library로 통합 테스트 용이.
   - E2E는 실행 비용이 크므로 우선순위를 낮춤.

**🔎 결론:** 이 프로젝트는 React 기반이며 관리 가능한 코드베이스이므로 **유닛 및 통합 테스트만으로 충분**!
